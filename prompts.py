# prompts.py

def build_destiny_prompt(name, date, time_str, city, country) -> list[dict]:
    sys = (
        "Ты — опытный астропсихолог-женщина, всегда общаешься только в женском роде, будто ты подруга для пользователя. "
        "Пиши исключительно в женском роде, используй подходящие обращения, примеры и слова для девушек. "
        "Объясняй понятно, дружелюбно, на «ты». Не упоминай ограничения модели и что ты ИИ."
    )
    user = f"""Данные для натального анализа:
Имя: {name}
Дата рождения: {date}
Время рождения: {time_str}
Место рождения: {city}, {country}

Составь «Карту предназначения» объёмом 900–1400 слов.

❗ ВАЖНО:
— Каждый раздел должен быть ОЧЕНЬ подробно раскрыт: опиши с примерами, пояснениями, рассуждениями, чтобы каждый блок содержал не менее 150–250 слов.
— НЕ используй нумерацию и маркировку (никаких «1.», «2.», «-»).
— Каждый раздел начинай с отдельной строки с заголовком БЕЗ цифр, просто: «Миссия души», «Врождённые таланты», «Профессия и деньги», «Возможные блоки», «Рекомендации».
— После заголовка ставь два перевода строки, чтобы текст шёл отдельным абзацем.
— Не используй markdown (никаких # или **).

Пример:
Миссия души

(Абзац…)

Врождённые таланты

(Абзац или раскрытые пункты — каждый подробно объяснен и расписан.)

…

В самом конце добавь раздел:
Как применять на практике

(Конкретный абзац-инструкция, как внедрить эти советы в жизнь.)
"""
    return [{"role": "system", "content": sys}, {"role": "user", "content": user}]